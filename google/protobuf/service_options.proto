syntax = "proto3";

package tecmise.protocols;

import "google/protobuf/descriptor.proto";

option go_package = "google.golang.org/protobuf/types/known/serviceoptionspb";

extend google.protobuf.ServiceOptions {
  repeated Integration integration = 30001;
}

message Integration {
    IntegrationKind kind = 1;
    oneof integration {
        LambdaIntegration lambda = 2;
        RestIntegration rest = 3;
        SqsIntegration sqs = 4;
    }
}

enum IntegrationKind {
  LAMBDA = 0;
  REST = 1;
  SQS = 2;
  LAMBDA_PROXY = 3;
}

message LambdaIntegration {
  string key_function_name = 1;
  optional string region = 2;
}

message RestIntegration {
  string key_domain = 1;
}

message SqsIntegration {
  string key_queue_url = 1;
  optional string region = 2;
}